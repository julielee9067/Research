//# sourceMappingURL=jquery.are-you-sure.js.map
(function(c){c.fn.areYouSure=function(l){var d=c.extend({message:"You have unsaved changes!",dirtyClass:"dirty",change:null,silent:!1,addRemoveFieldsMarksDirty:!1,fieldEvents:"change keyup propertychange input",fieldSelector:":input:not(input[type=submit]):not(input[type=button])"},l),h=function(a){if(a.hasClass("ays-ignore")||a.hasClass("aysIgnore")||a.attr("data-ays-ignore")||void 0===a.attr("name"))return null;if(a.is(":disabled"))return"ays-disabled";var b,e=a.attr("type");a.is("select")&&(e=
"select");switch(e){case "checkbox":case "radio":b=a.is(":checked");break;case "select":b="";a.find("option").each(function(a){a=c(this);a.is(":selected")&&(b+=a.val())});break;default:b=a.val()}return b},f=function(a){var b=function(a){var b=a.data("ays-orig");return void 0===b?!1:h(a)!=b},e=c(this).is("form")?c(this):c(this).parents("form");if(b(c(a.target)))g(e,!0);else if($fields=e.find(d.fieldSelector),d.addRemoveFieldsMarksDirty&&e.data("ays-orig-field-count")!=$fields.length)g(e,!0);else{var f=
!1;$fields.each(function(){$field=c(this);if(b($field))return f=!0,!1});g(e,f)}},k=function(a){var b=a.find(d.fieldSelector);c(b).each(function(){var a=c(this);a.data("ays-orig",h(a))});c(b).unbind(d.fieldEvents,f);c(b).bind(d.fieldEvents,f);a.data("ays-orig-field-count",c(b).length);g(a,!1)},g=function(a,b){var c=b!=a.hasClass(d.dirtyClass);a.toggleClass(d.dirtyClass,b);c&&(d.change&&d.change.call(a,a),b&&a.trigger("dirty.areYouSure",[a]),b||a.trigger("clean.areYouSure",[a]),a.trigger("change.areYouSure",
[a]))},m=function(){var a=c(this),b=a.find(d.fieldSelector);c(b).each(function(){var a=c(this);a.data("ays-orig")||(a.data("ays-orig",h(a)),a.bind(d.fieldEvents,f))});a.trigger("checkform.areYouSure")},n=function(){k(c(this))};d.silent||window.aysUnloadSet||(window.aysUnloadSet=!0,c(window).bind("beforeunload",function(){$dirtyForms=c("form").filter("."+d.dirtyClass);if(0!=$dirtyForms.length){if(navigator.userAgent.toLowerCase().match(/msie|chrome/)){if(window.aysHasPrompted)return;window.aysHasPrompted=
!0;window.setTimeout(function(){window.aysHasPrompted=!1},900)}return d.message}}));return this.each(function(a){if(c(this).is("form")){var b=c(this);b.submit(function(){b.removeClass(d.dirtyClass)});b.bind("reset",function(){g(b,!1)});b.bind("rescan.areYouSure",m);b.bind("reinitialize.areYouSure",n);b.bind("checkform.areYouSure",f);k(b)}})}})(jQuery);