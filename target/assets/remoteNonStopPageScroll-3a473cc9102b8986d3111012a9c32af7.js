//# sourceMappingURL=remoteNonStopPageScroll.js.map
(function(b){b.fn.remoteNonStopPageScroll=function(c){var a=b(this);if(1!=a.data("remote-pagination-initialized")){a.data("remote-pagination-initialized",!0);var d=b.extend(b.fn.remoteNonStopPageScroll.defaults,c);c=d.scrollTarget;null==c&&(c=a);d.scrollTarget=c;return a.each(function(){b.fn.remoteNonStopPageScroll.init(a,d)})}};b.fn.remoteNonStopPageScroll.init=function(c,a){a=b.extend(a,c.data("remote-pagination-updatedOptions")||{});var d=a.scrollTarget;c.data("remote-pagination","enabled").data("remote-pagination-semaphore",
!0);b(d).scroll(function(d){"enabled"==c.data("remote-pagination")?b.fn.remoteNonStopPageScroll.loadContent(c,a):d.stopPropagation()});b(window).resize(function(){b.fn.remoteNonStopPageScroll.loadContent(c,a)});b.fn.remoteNonStopPageScroll.loadContent(c,a)};b.fn.stopRemotePaginateOnScroll=function(){return this.each(function(){b(this).data("remote-pagination","disabled")})};b.fn.remoteNonStopPageScroll.loadContent=function(c,a){a=b.extend(a,c.data("remote-pagination-updatedOptions")||{});var d=b(a.scrollTarget);
if(d.height()+d.scrollTop()+a.heightOffset>=b(document).height()&&c.data("remote-pagination-semaphore")){b.fn.remoteNonStopPageScroll.loadingHTML(c,a,!0);if(null!=a.onLoading)a.onLoading();c.children().attr("data-remote-pagination-status","loaded");b.fn.remoteNonStopPageScroll.setSemaphore(c,!1);b.ajax({type:"POST",url:a.url,data:{},success:function(e){var f=d.scrollTop();c.append(e);d.scrollTop(f-1);e=c.children("[data-remote-pagination-status!=loaded]");if(null!=a.onSuccess)a.onSuccess(e);b.fn.remoteNonStopPageScroll.setSemaphore(c,
!0)},failure:function(d){if(null!=a.onFailure)a.onFailure();b.fn.remoteNonStopPageScroll.setSemaphore(c,!0)},complete:function(d){b.fn.remoteNonStopPageScroll.loadingHTML(c,a,!1);if(null!=a.onComplete)a.onComplete()},dataType:"html"})}};b.fn.remoteNonStopPageScroll.loadingHTML=function(c,a,d){a=a.loadingHTML;null!=a&&(d?(d=b("#"+a).clone().wrap("<p>").parent().html(),c.append("<span class='paginationLoadingSpan'>"+d+"</span>").find("#"+a).show()):c.find(".paginationLoadingSpan").remove())};b.fn.remoteNonStopPageScroll.setSemaphore=
function(b,a){b.data("remote-pagination-semaphore",a)};b.fn.remoteNonStopPageScroll.defaults={url:null,onLoading:null,onSuccess:null,onFailure:null,onComplete:null,scrollTarget:null,heightOffset:0,loadingHTML:null}})(jQuery);